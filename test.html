<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
	
	<style type="text/css">
		.test{
			position: absolute;
			width:200px;
			border-left: 5px solid #000;
			border-right: 4px dashed cyan;
			background: red;
			left:100px;
			top:100px;
		}
		body{
			width:100%;
			height: 5000px;
		}
		*{
			margin: 0;
			padding: 0;
		}
		#line{
			position: fixed;
			top:0;
			left: 0;
			background: cyan;
			height: 5px;
		}
	</style>
</head>
<body>
	<div id="line"></div>
	<div class="test" id="test">
		
	
	</div>

</body>
<script type="text/javascript">
	
	var testDiv = document.getElementById("test")
	testDiv.style.height = "200px"
	document.onclick = function () {
		testDiv.style.webkitTransitionDuration = "0s";
		testDiv.style.MozTransitionDuration = "0s";
		testDiv.style.msTransitionDuration = "0s";
		testDiv.style.left = "800px";
		
		setTimeout(function () {
			testDiv.style.webkitTransitionDuration = "1s";
			testDiv.style.MozTransitionDuration = "1s";
			testDiv.style.msTransitionDuration = "1s";
			testDiv.style.left = "300px";
		})
		
		//alert(getStyle(testDiv,"borderLeftWidth"))
	}
	
	function getStyle (obj,attr) {
		if (obj.currentStyle) {
			return obj.currentStyle[attr]
		}else {
			return getComputedStyle(obj,false)[attr];
		}
	}
	
	
	window.onscroll = function () {
		var width = document.body.scrollTop / parseInt(getStyle(document.body,"height"));
		console.log(width)
		document.getElementById("line").style.width = width * 100+ "%";
	}
	
	
</script>
</html>